<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  
  <script>
    $( document ).ready(function(){
      $("#reftext").autocomplete({
        source: 'https://taxonomy.wabarr.com/API/references/',
      });
      $("#ranktext").autocomplete({
        source: 'https://taxonomy.wabarr.com/API/ranks/',
      });
      $("#click").click( function(e) {
        $.ajax({
      		url: 'https://taxonomy.wabarr.com/API/taxa/',
          beforeSend: function(xhr) {
              xhr.setRequestHeader("Authorization", 'Token c5c880a2dd862dd1563a918a77157ded12cc11bd');
            },
      		method: 'POST',
          data: $("#submitform").serialize(),
      		dataType: 'json',
      		success: function(data) {
      			$("#resultsdiv").html("<h2>Thanks! Data was POSTed.</h2>");
      		},
      		error: function(err) {
      			$("#resultsdiv").html("<h2>There was an error.</h2>");
      		}
        });
      });
    });
  </script>
</head>

<body>
<form action="http://localhost:8000/taxa/" method="POST" id="submitform">
  <input name="ref" placeholder="reference id" id="reftext"/>
  <input name="rank" placeholder="rank" id="ranktext" />
  <input name="name" placeholder="taxonName" id="taxonname" />
</form>
<h1 id="click">Click Me</h1>
<div id="resultsdiv"></div>
</body>
</html>
